{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"ng-zorro-antd/breadcrumb\";\nimport * as i3 from \"./news-mian-center/news-mian-center.component\";\nimport * as i4 from \"./news-mian-left/news-mian-left.component\";\nimport * as i5 from \"./news-mian-right/news-mian-right.component\";\nconst _c0 = [\"scrollContainer\"];\nfunction NewsHomeComponent_ng_container_2_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"a\", 16);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const title_r2 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(title_r2);\n  }\n}\nfunction NewsHomeComponent_ng_container_2_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"a\", 17);\n    i0.ɵɵlistener(\"click\", function NewsHomeComponent_ng_container_2_ng_container_3_Template_a_click_1_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r6.handleScroll());\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const title_r2 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(title_r2);\n  }\n}\nfunction NewsHomeComponent_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0)(1, 13);\n    i0.ɵɵtemplate(2, NewsHomeComponent_ng_container_2_ng_container_2_Template, 3, 1, \"ng-container\", 14);\n    i0.ɵɵtemplate(3, NewsHomeComponent_ng_container_2_ng_container_3_Template, 3, 1, \"ng-container\", 15);\n    i0.ɵɵelementContainerEnd()();\n  }\n  if (rf & 2) {\n    const title_r2 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitch\", title_r2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", ctx_r0.navBarData[0]);\n  }\n}\nfunction NewsHomeComponent_ng_container_11_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"nz-breadcrumb-item\")(2, \"a\", 18);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const title_r9 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(title_r9);\n  }\n}\nfunction NewsHomeComponent_ng_container_11_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"nz-breadcrumb-item\", 17);\n    i0.ɵɵlistener(\"click\", function NewsHomeComponent_ng_container_11_ng_container_3_Template_nz_breadcrumb_item_click_1_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r13 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r13.handleScroll());\n    });\n    i0.ɵɵelementStart(2, \"a\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const title_r9 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(title_r9);\n  }\n}\nfunction NewsHomeComponent_ng_container_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0)(1, 13);\n    i0.ɵɵtemplate(2, NewsHomeComponent_ng_container_11_ng_container_2_Template, 4, 1, \"ng-container\", 14);\n    i0.ɵɵtemplate(3, NewsHomeComponent_ng_container_11_ng_container_3_Template, 4, 1, \"ng-container\", 15);\n    i0.ɵɵelementContainerEnd()();\n  }\n  if (rf & 2) {\n    const title_r9 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitch\", title_r9);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", ctx_r1.thirdStageNavData[0]);\n  }\n}\nexport class NewsHomeComponent {\n  constructor() {\n    //导航条数据\n    //二级导航数据\n    this.navBarData = [\"体育\", \"NBA\", \"娱乐\", \"音乐\", \"游戏\", \"财经\", \"股票\", \"汽车\", \"科技\", \"手机\", \"智能\", \"时尚\", \"直播\", \"文化\", \"旅游\", \"房产\", \"家居\", \"教育\", \"上海\", \"健康\", \"艺术\"];\n    //三级导航数据\n    this.thirdStageNavData = [\"首页\", \"国内\", \"国际\", \"数读\", \"军事\", \"航空\", \"传媒科技研究院\", \"政务\", \"公益\", \"媒体\", \"王三三\"];\n    this.headerIsFloat = false;\n    this.isLessThan1380 = false;\n    this.left_news_max_top = 0;\n    this.handleObj = {\n      handleWidthChange: function () {\n        console.log(this.handleWidthChange());\n      }\n    };\n  }\n  asd() {\n    console.log('scrolling');\n  }\n  ngOnInit() {\n    document.getElementById(\"scrollContainer\")?.addEventListener('scroll', this.handleScroll.bind(this));\n    window.addEventListener(\"resize\", this.handleWidthChange.bind(this));\n    // Observable.fromEvent(window, 'resize')\n    //     .debounceTime(100) // 以免频繁处理\n    //     .subscribe((event) => {\n    //       // 这里处理页面变化时的操作,处理高度和宽度都可以\n    //       console.log('come on ..', window.innerWidth);\n    //     });\n  }\n\n  handleWidthChange() {\n    console.log(\"this.headerIsFloat==\", this.headerIsFloat);\n    console.log(\"this.isLessThan1380==\", this.isLessThan1380);\n    let main_left_news = document.getElementById(\"main-left-news\");\n    let main_center_news = document.getElementById(\"main-center-news\");\n    if (this.isLessThan1380 && window.innerWidth < 1380) {\n      //如果已经小于1380了 不做重复处理\n    } else if (!this.isLessThan1380 && window.innerWidth >= 1380) {\n      //如果已经大等于1380了 不做重复处理\n    } else if (!this.isLessThan1380 && window.innerWidth < 1380) {\n      this.isLessThan1380 = true;\n      console.log(\"main_left_news<1380==\");\n      if (main_left_news && main_center_news) {\n        console.log('this.headerIsFloat', this.headerIsFloat);\n        //如果宽度小于1380 main_left_news 一定是隐藏的\n        main_left_news.style.display = 'none';\n        if (this.headerIsFloat) {\n          main_left_news.setAttribute('class', 'main-left-news-float');\n          main_center_news.setAttribute('class', 'main-center-news-float');\n        } else {\n          main_left_news.setAttribute('class', 'main-left-news');\n          main_center_news.setAttribute('class', 'main-center-news');\n        }\n      }\n    } else if (window.innerWidth >= 1380) {\n      this.isLessThan1380 = false;\n      console.log(\"main_left_news>1380==\");\n      if (main_left_news && main_center_news) {\n        //如果宽度大于1380  main_left_news 不隐藏\n        main_left_news.style.display = 'block';\n        if (this.headerIsFloat) {\n          main_left_news.setAttribute('class', 'main-left-news-float');\n          main_center_news.setAttribute('class', 'main-center-news-float');\n        } else {\n          main_left_news.setAttribute('class', 'main-left-news');\n          main_center_news.setAttribute('class', 'main-center-news');\n        }\n      }\n    }\n    // if (this.headerIsFloat)\n    console.log(\"window.innerWidth==\", window.innerWidth, this.headerIsFloat);\n  }\n  handleScroll() {\n    let element_right = document.getElementById(\"main-right-news\");\n    // if (window.innerWidth < 1380){\n    //   return;\n    // }\n    //这里根据滑动该表样式\n    let scrollElement = document.getElementById(\"scrollContainer\");\n    // console.log(\"已经滑动啦\", document.getElementById(\"scrollContainer\")?.scrollTop);\n    let element = document.getElementById(\"main-left-news\");\n    // console.log(\"element?.offsetTop===\", element?.offsetTop);\n    // console.log(\"element?.scrollHeight\", element?.scrollHeight);\n    let main_left_news = document.getElementById(\"main-left-news\");\n    let main_center_news = document.getElementById(\"main-center-news\");\n    if (scrollElement && element && main_center_news && main_left_news) {\n      let maxTop = element.offsetTop + element.scrollHeight;\n      if (this.left_news_max_top == 0) {\n        this.left_news_max_top = maxTop;\n      }\n      //\n      console.log(\"maxTop==\", maxTop, this.left_news_max_top);\n      if (scrollElement.scrollTop >= this.left_news_max_top) {\n        this.headerIsFloat = true;\n        console.log('main-center-news-float');\n        //发生了浮动\n        main_left_news.setAttribute('class', 'main-left-news-float');\n        main_center_news.setAttribute('class', 'main-center-news-float');\n        document.getElementById(\"groundGlass\").style.display = 'block';\n      } else {\n        this.headerIsFloat = false;\n        main_left_news.setAttribute('class', 'main-left-news');\n        console.log('main-center-news');\n        main_center_news.setAttribute('class', 'main-center-news');\n        document.getElementById(\"groundGlass\").style.display = 'none';\n      }\n    }\n  }\n  changStyleLeft() {}\n}\nNewsHomeComponent.ɵfac = function NewsHomeComponent_Factory(t) {\n  return new (t || NewsHomeComponent)();\n};\nNewsHomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: NewsHomeComponent,\n  selectors: [[\"app-news-home\"]],\n  viewQuery: function NewsHomeComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.scrollContainer = _t.first);\n    }\n  },\n  decls: 21,\n  vars: 2,\n  consts: [[\"id\", \"scrollContainer\", 1, \"scrollContainer\"], [1, \"VFP-navbar\"], [4, \"ngFor\", \"ngForOf\"], [1, \"content-box\"], [\"src\", \"./assets/news-top-banner.png\", 1, \"top-banner\"], [2, \"height\", \"20px\"], [\"src\", \"./assets/news-logo.png\", 2, \"width\", \"155px\", \"height\", \"40px\"], [1, \"red-divide-line\"], [1, \"content-box\", 2, \"margin-top\", \"10px\", \"margin-bottom\", \"10px\"], [\"id\", \"main-left-news\", 1, \"main-left-news\"], [\"id\", \"groundGlass\", 1, \"groundGlass\"], [\"id\", \"main-center-news\", 1, \"main-center-news\"], [\"id\", \"main-right-news\", 1, \"main-right-news\"], [3, \"ngSwitch\"], [4, \"ngSwitchCase\"], [4, \"ngSwitchDefault\"], [1, \"first-a\"], [3, \"click\"], [2, \"padding-left\", \"0\"]],\n  template: function NewsHomeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n      i0.ɵɵtemplate(2, NewsHomeComponent_ng_container_2_Template, 4, 2, \"ng-container\", 2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 3);\n      i0.ɵɵelement(4, \"img\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(5, \"div\", 5);\n      i0.ɵɵelementStart(6, \"div\", 3);\n      i0.ɵɵelement(7, \"img\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(8, \"div\", 7);\n      i0.ɵɵelementStart(9, \"div\", 3)(10, \"nz-breadcrumb\");\n      i0.ɵɵtemplate(11, NewsHomeComponent_ng_container_11_Template, 4, 2, \"ng-container\", 2);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(12, \"div\", 8)(13, \"div\", 9);\n      i0.ɵɵelement(14, \"app-news-mian-left\")(15, \"div\", 10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"div\", 11)(17, \"div\");\n      i0.ɵɵelement(18, \"app-news-mian-center\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(19, \"div\", 12);\n      i0.ɵɵelement(20, \"app-news-mian-right\");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.navBarData);\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngForOf\", ctx.thirdStageNavData);\n    }\n  },\n  dependencies: [i1.NgForOf, i1.NgSwitch, i1.NgSwitchCase, i1.NgSwitchDefault, i2.NzBreadCrumbComponent, i2.NzBreadCrumbItemComponent, i3.NewsMianCenterComponent, i4.NewsMianLeftComponent, i5.NewsMianRightComponent],\n  styles: [\"[_nghost-%COMP%]{width:100%;height:100%}.scrollContainer[_ngcontent-%COMP%]{width:100%;height:100%;overflow:auto}.content-box[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;width:960px}.top-banner[_ngcontent-%COMP%]{margin-top:10px;width:960px;height:100px}.app-news-header[_ngcontent-%COMP%]{z-index:999;position:absolute}.VFP-navbar[_ngcontent-%COMP%]{margin-top:55px;width:100%;margin-left:auto;margin-right:auto;text-align:center;text-overflow:ellipsis;white-space:nowrap}.VFP-navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border-left:1px solid #ddd;padding:0 6px;color:#171717;font-size:12px}.VFP-navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:red}.VFP-navbar[_ngcontent-%COMP%]   .first-a[_ngcontent-%COMP%]{border-left:none}nz-breadcrumb[_ngcontent-%COMP%]{margin-top:10px}nz-breadcrumb-item[_ngcontent-%COMP%]{color:#171717;font-size:16px}nz-breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#171717}nz-breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:red}.red-divide-line[_ngcontent-%COMP%]{background-color:red;height:2px;margin-left:0;margin-right:0;margin-top:8px}.main-left-news[_ngcontent-%COMP%]{position:relative;width:200px;margin-right:0;display:none;overflow:hidden;float:left}.main-left-news-float[_ngcontent-%COMP%]{position:absolute;top:45px;bottom:50px;width:200px;margin-right:45px;display:block;float:left}.main-left-news-float[_ngcontent-%COMP%]   .groundGlass[_ngcontent-%COMP%]{height:80px;width:200px;background-image:linear-gradient(to bottom,rgba(255,255,255,.7),#ffffff);position:fixed;bottom:50px;display:none}.main-center-news[_ngcontent-%COMP%]{width:600px;margin-top:0;margin-bottom:0;position:relative;float:left}.main-center-news-float[_ngcontent-%COMP%]{width:600px;margin-left:250px;margin-top:0;margin-bottom:0;position:relative;float:left}.main-right-news[_ngcontent-%COMP%]{width:300px;margin-left:50px;float:left}@media screen and (min-width: 1380px){.content-box[_ngcontent-%COMP%]{width:1200px}.VFP-navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:0 12px}nz-breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:0 12px}.main-left-news[_ngcontent-%COMP%]{width:200px;display:block;margin-right:50px}.main-left-news-float[_ngcontent-%COMP%]{display:block;position:absolute;padding-bottom:60px}.main-center-news-float[_ngcontent-%COMP%]{margin-left:250px}}@media screen and (max-width: 1379px){.main-left-news-float[_ngcontent-%COMP%]{display:none;position:relative}.main-center-news-float[_ngcontent-%COMP%]{margin-left:0}}\"]\n});","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}