{"ast":null,"code":"import { __decorate } from 'tslib';\nimport * as i7 from '@angular/common';\nimport { DOCUMENT, CommonModule } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { EventEmitter, Component, ChangeDetectionStrategy, ViewEncapsulation, ViewChild, Injector, Injectable, Optional, Directive, Inject, Input, NgModule } from '@angular/core';\nimport { Subject, fromEvent } from 'rxjs';\nimport { filter, take, takeUntil } from 'rxjs/operators';\nimport * as i1 from 'ng-zorro-antd/core/config';\nimport { WithConfig } from 'ng-zorro-antd/core/config';\nimport { isNotNil, InputBoolean } from 'ng-zorro-antd/core/util';\nimport * as i3 from '@angular/cdk/overlay';\nimport { OverlayRef, OverlayConfig, OverlayModule } from '@angular/cdk/overlay';\nimport { ComponentPortal, PortalModule } from '@angular/cdk/portal';\nimport { ESCAPE, LEFT_ARROW, RIGHT_ARROW, hasModifierKey } from '@angular/cdk/keycodes';\nimport { fadeMotion } from 'ng-zorro-antd/core/animation';\nimport * as i4 from 'ng-zorro-antd/core/services';\nimport { NzDestroyService } from 'ng-zorro-antd/core/services';\nimport * as i5 from '@angular/platform-browser';\nimport * as i6 from '@angular/cdk/drag-drop';\nimport { DragDropModule } from '@angular/cdk/drag-drop';\nimport * as i8 from 'ng-zorro-antd/icon';\nimport { NzIconModule } from 'ng-zorro-antd/icon';\nimport * as i3$1 from '@angular/cdk/bidi';\nimport { BidiModule } from '@angular/cdk/bidi';\nimport { NzPipesModule } from 'ng-zorro-antd/pipes';\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nconst _c0 = [\"imgRef\"];\nconst _c1 = [\"imagePreviewWrapper\"];\nfunction NzImagePreviewComponent_li_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 10);\n    i0.ɵɵlistener(\"click\", function NzImagePreviewComponent_li_5_Template_li_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const option_r4 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(option_r4.onClick());\n    });\n    i0.ɵɵelement(1, \"span\", 11);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const option_r4 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"ant-image-preview-operations-operation-disabled\", ctx_r0.zoomOutDisabled && option_r4.type === \"zoomOut\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"nzType\", option_r4.icon);\n  }\n}\nfunction NzImagePreviewComponent_ng_container_8_img_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 13, 14);\n  }\n  if (rf & 2) {\n    const image_r7 = i0.ɵɵnextContext().$implicit;\n    const ctx_r9 = i0.ɵɵnextContext();\n    i0.ɵɵstyleProp(\"width\", image_r7.width)(\"height\", image_r7.height)(\"transform\", ctx_r9.previewImageTransform);\n    i0.ɵɵattribute(\"src\", ctx_r9.sanitizerResourceUrl(image_r7.src), i0.ɵɵsanitizeUrl)(\"srcset\", image_r7.srcset)(\"alt\", image_r7.alt);\n  }\n}\nfunction NzImagePreviewComponent_ng_container_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, NzImagePreviewComponent_ng_container_8_img_1_Template, 2, 9, \"img\", 12);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const imageIndex_r8 = ctx.index;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.index === imageIndex_r8);\n  }\n}\nfunction NzImagePreviewComponent_ng_container_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 15);\n    i0.ɵɵlistener(\"click\", function NzImagePreviewComponent_ng_container_9_Template_div_click_1_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.onSwitchLeft($event));\n    });\n    i0.ɵɵelement(2, \"span\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 17);\n    i0.ɵɵlistener(\"click\", function NzImagePreviewComponent_ng_container_9_Template_div_click_3_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.onSwitchRight($event));\n    });\n    i0.ɵɵelement(4, \"span\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassProp(\"ant-image-preview-switch-left-disabled\", ctx_r3.index <= 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassProp(\"ant-image-preview-switch-right-disabled\", ctx_r3.index >= ctx_r3.images.length - 1);\n  }\n}\nconst _c2 = [\"*\"];\nconst FADE_CLASS_NAME_MAP = {\n  enter: 'ant-fade-enter',\n  enterActive: 'ant-fade-enter-active',\n  leave: 'ant-fade-leave',\n  leaveActive: 'ant-fade-leave-active'\n};\nconst IMAGE_PREVIEW_MASK_CLASS_NAME = 'ant-image-preview-mask';\nconst NZ_CONFIG_MODULE_NAME$1 = 'image';\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nclass NzImagePreviewOptions {\n  constructor() {\n    this.nzKeyboard = true;\n    this.nzNoAnimation = false;\n    this.nzMaskClosable = true;\n    this.nzCloseOnNavigation = true;\n  }\n}\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nclass NzImagePreviewRef {\n  constructor(previewInstance, config, overlayRef) {\n    this.previewInstance = previewInstance;\n    this.config = config;\n    this.overlayRef = overlayRef;\n    this.destroy$ = new Subject();\n    overlayRef.keydownEvents().pipe(filter(event => this.config.nzKeyboard && (event.keyCode === ESCAPE || event.keyCode === LEFT_ARROW || event.keyCode === RIGHT_ARROW) && !hasModifierKey(event))).subscribe(event => {\n      event.preventDefault();\n      if (event.keyCode === ESCAPE) {\n        this.close();\n      }\n      if (event.keyCode === LEFT_ARROW) {\n        this.prev();\n      }\n      if (event.keyCode === RIGHT_ARROW) {\n        this.next();\n      }\n    });\n    overlayRef.detachments().subscribe(() => {\n      this.overlayRef.dispose();\n    });\n    previewInstance.containerClick.pipe(take(1), takeUntil(this.destroy$)).subscribe(() => {\n      this.close();\n    });\n    previewInstance.closeClick.pipe(take(1), takeUntil(this.destroy$)).subscribe(() => {\n      this.close();\n    });\n    previewInstance.animationStateChanged.pipe(filter(event => event.phaseName === 'done' && event.toState === 'leave'), take(1)).subscribe(() => {\n      this.dispose();\n    });\n  }\n  switchTo(index) {\n    this.previewInstance.switchTo(index);\n  }\n  next() {\n    this.previewInstance.next();\n  }\n  prev() {\n    this.previewInstance.prev();\n  }\n  close() {\n    this.previewInstance.startLeaveAnimation();\n  }\n  dispose() {\n    this.destroy$.next();\n    this.overlayRef.dispose();\n  }\n}\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n/**\n * fit content details: https://github.com/NG-ZORRO/ng-zorro-antd/pull/6154#issuecomment-745025554\n *\n * calc position x,y point\n *\n * CASE (width <= clientWidth && height <= clientHeight):\n *\n * ------------- clientWidth -------------\n * |                                     |\n * |        ------ width ------          |\n * |        |                 |          |\n * |        |                 |          |\n * client   height            |          |\n * Height   |                 |          |\n * |        |                 |          |\n * |        -------------------          |\n * |                                     |\n * |                                     |\n * ---------------------------------------\n * fixedPosition = { x: 0, y: 0 }\n *\n *\n *\n * CASE (width > clientWidth || height > clientHeight):\n *\n * ------------- clientWidth -------------\n * |        |                            |\n * |        top                          |\n * |        |                            |\n * |--left--|--------------- width -----------------\n * |        |                                      |\n * client   |                                      |\n * Height   |                                      |\n * |        |                                      |\n * |        |                                      |\n * |        height                                 |\n * |        |                                      |\n * ---------|                                      |\n *          |                                      |\n *          |                                      |\n *          |                                      |\n *          ----------------------------------------\n *\n *\n * - left || top > 0\n *   left -> 0 || top -> 0\n *\n * - (left + width) < clientWidth || (top + height) < clientHeight\n * - left | top + width | height < clientWidth | clientHeight -> Back left | top + width | height === clientWidth | clientHeight\n *\n * DEFAULT:\n * - hold position\n *\n */\nfunction getFitContentPosition(params) {\n  let fixPos = {};\n  if (params.width <= params.clientWidth && params.height <= params.clientHeight) {\n    fixPos = {\n      x: 0,\n      y: 0\n    };\n  }\n  if (params.width > params.clientWidth || params.height > params.clientHeight) {\n    fixPos = {\n      x: fitPoint(params.left, params.width, params.clientWidth),\n      y: fitPoint(params.top, params.height, params.clientHeight)\n    };\n  }\n  return fixPos;\n}\nfunction getOffset(node) {\n  const box = node.getBoundingClientRect();\n  const docElem = document.documentElement;\n  // use docElem.scrollLeft to support IE\n  return {\n    left: box.left + (window.pageXOffset || docElem.scrollLeft) - (docElem.clientLeft || document.body.clientLeft || 0),\n    top: box.top + (window.pageYOffset || docElem.scrollTop) - (docElem.clientTop || document.body.clientTop || 0)\n  };\n}\nfunction getClientSize() {\n  const width = document.documentElement.clientWidth;\n  const height = window.innerHeight || document.documentElement.clientHeight;\n  return {\n    width,\n    height\n  };\n}\nfunction fitPoint(start, size, clientSize) {\n  const startAddSize = start + size;\n  const offsetStart = (size - clientSize) / 2;\n  let distance = null;\n  if (size > clientSize) {\n    if (start > 0) {\n      distance = offsetStart;\n    }\n    if (start < 0 && startAddSize < clientSize) {\n      distance = -offsetStart;\n    }\n  } else {\n    if (start < 0 || startAddSize > clientSize) {\n      distance = start < 0 ? offsetStart : -offsetStart;\n    }\n  }\n  return distance;\n}\nconst initialPosition = {\n  x: 0,\n  y: 0\n};\nclass NzImagePreviewComponent {\n  constructor(ngZone, host, cdr, nzConfigService, config, overlayRef, destroy$, sanitizer) {\n    this.ngZone = ngZone;\n    this.host = host;\n    this.cdr = cdr;\n    this.nzConfigService = nzConfigService;\n    this.config = config;\n    this.overlayRef = overlayRef;\n    this.destroy$ = destroy$;\n    this.sanitizer = sanitizer;\n    this.images = [];\n    this.index = 0;\n    this.isDragging = false;\n    this.visible = true;\n    this.animationState = 'enter';\n    this.animationStateChanged = new EventEmitter();\n    this.previewImageTransform = '';\n    this.previewImageWrapperTransform = '';\n    this.operations = [{\n      icon: 'close',\n      onClick: () => {\n        this.onClose();\n      },\n      type: 'close'\n    }, {\n      icon: 'zoom-in',\n      onClick: () => {\n        this.onZoomIn();\n      },\n      type: 'zoomIn'\n    }, {\n      icon: 'zoom-out',\n      onClick: () => {\n        this.onZoomOut();\n      },\n      type: 'zoomOut'\n    }, {\n      icon: 'rotate-right',\n      onClick: () => {\n        this.onRotateRight();\n      },\n      type: 'rotateRight'\n    }, {\n      icon: 'rotate-left',\n      onClick: () => {\n        this.onRotateLeft();\n      },\n      type: 'rotateLeft'\n    }];\n    this.zoomOutDisabled = false;\n    this.position = {\n      ...initialPosition\n    };\n    this.containerClick = new EventEmitter();\n    this.closeClick = new EventEmitter();\n    this.zoom = this.config.nzZoom ?? 1;\n    this.rotate = this.config.nzRotate ?? 0;\n    this.updateZoomOutDisabled();\n    this.updatePreviewImageTransform();\n    this.updatePreviewImageWrapperTransform();\n  }\n  get animationDisabled() {\n    return this.config.nzNoAnimation ?? false;\n  }\n  get maskClosable() {\n    const defaultConfig = this.nzConfigService.getConfigForComponent(NZ_CONFIG_MODULE_NAME$1) || {};\n    return this.config.nzMaskClosable ?? defaultConfig.nzMaskClosable ?? true;\n  }\n  ngOnInit() {\n    this.ngZone.runOutsideAngular(() => {\n      fromEvent(this.host.nativeElement, 'click').pipe(takeUntil(this.destroy$)).subscribe(event => {\n        if (event.target === event.currentTarget && this.maskClosable && this.containerClick.observers.length) {\n          this.ngZone.run(() => this.containerClick.emit());\n        }\n      });\n      fromEvent(this.imagePreviewWrapper.nativeElement, 'mousedown').pipe(takeUntil(this.destroy$)).subscribe(() => {\n        this.isDragging = true;\n      });\n    });\n  }\n  setImages(images) {\n    this.images = images;\n    this.cdr.markForCheck();\n  }\n  switchTo(index) {\n    this.index = index;\n    this.cdr.markForCheck();\n  }\n  next() {\n    if (this.index < this.images.length - 1) {\n      this.reset();\n      this.index++;\n      this.updatePreviewImageTransform();\n      this.updatePreviewImageWrapperTransform();\n      this.updateZoomOutDisabled();\n      this.cdr.markForCheck();\n    }\n  }\n  prev() {\n    if (this.index > 0) {\n      this.reset();\n      this.index--;\n      this.updatePreviewImageTransform();\n      this.updatePreviewImageWrapperTransform();\n      this.updateZoomOutDisabled();\n      this.cdr.markForCheck();\n    }\n  }\n  markForCheck() {\n    this.cdr.markForCheck();\n  }\n  onClose() {\n    this.closeClick.emit();\n  }\n  onZoomIn() {\n    this.zoom += 1;\n    this.updatePreviewImageTransform();\n    this.updateZoomOutDisabled();\n    this.position = {\n      ...initialPosition\n    };\n  }\n  onZoomOut() {\n    if (this.zoom > 1) {\n      this.zoom -= 1;\n      this.updatePreviewImageTransform();\n      this.updateZoomOutDisabled();\n      this.position = {\n        ...initialPosition\n      };\n    }\n  }\n  onRotateRight() {\n    this.rotate += 90;\n    this.updatePreviewImageTransform();\n  }\n  onRotateLeft() {\n    this.rotate -= 90;\n    this.updatePreviewImageTransform();\n  }\n  onSwitchLeft(event) {\n    event.preventDefault();\n    event.stopPropagation();\n    this.prev();\n  }\n  onSwitchRight(event) {\n    event.preventDefault();\n    event.stopPropagation();\n    this.next();\n  }\n  onAnimationStart(event) {\n    if (event.toState === 'enter') {\n      this.setEnterAnimationClass();\n    } else if (event.toState === 'leave') {\n      this.setLeaveAnimationClass();\n    }\n    this.animationStateChanged.emit(event);\n  }\n  onAnimationDone(event) {\n    if (event.toState === 'enter') {\n      this.setEnterAnimationClass();\n    } else if (event.toState === 'leave') {\n      this.setLeaveAnimationClass();\n    }\n    this.animationStateChanged.emit(event);\n  }\n  startLeaveAnimation() {\n    this.animationState = 'leave';\n    this.cdr.markForCheck();\n  }\n  onDragReleased() {\n    this.isDragging = false;\n    const width = this.imageRef.nativeElement.offsetWidth * this.zoom;\n    const height = this.imageRef.nativeElement.offsetHeight * this.zoom;\n    const {\n      left,\n      top\n    } = getOffset(this.imageRef.nativeElement);\n    const {\n      width: clientWidth,\n      height: clientHeight\n    } = getClientSize();\n    const isRotate = this.rotate % 180 !== 0;\n    const fitContentParams = {\n      width: isRotate ? height : width,\n      height: isRotate ? width : height,\n      left,\n      top,\n      clientWidth,\n      clientHeight\n    };\n    const fitContentPos = getFitContentPosition(fitContentParams);\n    if (isNotNil(fitContentPos.x) || isNotNil(fitContentPos.y)) {\n      this.position = {\n        ...this.position,\n        ...fitContentPos\n      };\n    }\n  }\n  sanitizerResourceUrl(url) {\n    return this.sanitizer.bypassSecurityTrustResourceUrl(url);\n  }\n  updatePreviewImageTransform() {\n    this.previewImageTransform = `scale3d(${this.zoom}, ${this.zoom}, 1) rotate(${this.rotate}deg)`;\n  }\n  updatePreviewImageWrapperTransform() {\n    this.previewImageWrapperTransform = `translate3d(${this.position.x}px, ${this.position.y}px, 0)`;\n  }\n  updateZoomOutDisabled() {\n    this.zoomOutDisabled = this.zoom <= 1;\n  }\n  setEnterAnimationClass() {\n    if (this.animationDisabled) {\n      return;\n    }\n    const backdropElement = this.overlayRef.backdropElement;\n    if (backdropElement) {\n      backdropElement.classList.add(FADE_CLASS_NAME_MAP.enter);\n      backdropElement.classList.add(FADE_CLASS_NAME_MAP.enterActive);\n    }\n  }\n  setLeaveAnimationClass() {\n    if (this.animationDisabled) {\n      return;\n    }\n    const backdropElement = this.overlayRef.backdropElement;\n    if (backdropElement) {\n      backdropElement.classList.add(FADE_CLASS_NAME_MAP.leave);\n      backdropElement.classList.add(FADE_CLASS_NAME_MAP.leaveActive);\n    }\n  }\n  reset() {\n    this.zoom = 1;\n    this.rotate = 0;\n    this.position = {\n      ...initialPosition\n    };\n  }\n}\nNzImagePreviewComponent.ɵfac = function NzImagePreviewComponent_Factory(t) {\n  return new (t || NzImagePreviewComponent)(i0.ɵɵdirectiveInject(i0.NgZone), i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i1.NzConfigService), i0.ɵɵdirectiveInject(NzImagePreviewOptions), i0.ɵɵdirectiveInject(i3.OverlayRef), i0.ɵɵdirectiveInject(i4.NzDestroyService), i0.ɵɵdirectiveInject(i5.DomSanitizer));\n};\nNzImagePreviewComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: NzImagePreviewComponent,\n  selectors: [[\"nz-image-preview\"]],\n  viewQuery: function NzImagePreviewComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n      i0.ɵɵviewQuery(_c1, 7);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.imageRef = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.imagePreviewWrapper = _t.first);\n    }\n  },\n  hostAttrs: [\"tabindex\", \"-1\", \"role\", \"document\", 1, \"ant-image-preview-wrap\"],\n  hostVars: 6,\n  hostBindings: function NzImagePreviewComponent_HostBindings(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵsyntheticHostListener(\"@fadeMotion.start\", function NzImagePreviewComponent_animation_fadeMotion_start_HostBindingHandler($event) {\n        return ctx.onAnimationStart($event);\n      })(\"@fadeMotion.done\", function NzImagePreviewComponent_animation_fadeMotion_done_HostBindingHandler($event) {\n        return ctx.onAnimationDone($event);\n      });\n    }\n    if (rf & 2) {\n      i0.ɵɵsyntheticHostProperty(\"@.disabled\", ctx.config.nzNoAnimation)(\"@fadeMotion\", ctx.animationState);\n      i0.ɵɵstyleProp(\"z-index\", ctx.config.nzZIndex);\n      i0.ɵɵclassProp(\"ant-image-preview-moving\", ctx.isDragging);\n    }\n  },\n  exportAs: [\"nzImagePreview\"],\n  features: [i0.ɵɵProvidersFeature([NzDestroyService])],\n  decls: 11,\n  vars: 6,\n  consts: [[1, \"ant-image-preview\"], [\"tabindex\", \"0\", \"aria-hidden\", \"true\", 2, \"width\", \"0\", \"height\", \"0\", \"overflow\", \"hidden\", \"outline\", \"none\"], [1, \"ant-image-preview-content\"], [1, \"ant-image-preview-body\"], [1, \"ant-image-preview-operations\"], [\"class\", \"ant-image-preview-operations-operation\", 3, \"ant-image-preview-operations-operation-disabled\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"cdkDrag\", \"\", 1, \"ant-image-preview-img-wrapper\", 3, \"cdkDragFreeDragPosition\", \"cdkDragReleased\"], [\"imagePreviewWrapper\", \"\"], [4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [1, \"ant-image-preview-operations-operation\", 3, \"click\"], [\"nz-icon\", \"\", \"nzTheme\", \"outline\", 1, \"ant-image-preview-operations-icon\", 3, \"nzType\"], [\"cdkDragHandle\", \"\", \"class\", \"ant-image-preview-img\", 3, \"width\", \"height\", \"transform\", 4, \"ngIf\"], [\"cdkDragHandle\", \"\", 1, \"ant-image-preview-img\"], [\"imgRef\", \"\"], [1, \"ant-image-preview-switch-left\", 3, \"click\"], [\"nz-icon\", \"\", \"nzType\", \"left\", \"nzTheme\", \"outline\"], [1, \"ant-image-preview-switch-right\", 3, \"click\"], [\"nz-icon\", \"\", \"nzType\", \"right\", \"nzTheme\", \"outline\"]],\n  template: function NzImagePreviewComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelement(1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"div\", 2)(3, \"div\", 3)(4, \"ul\", 4);\n      i0.ɵɵtemplate(5, NzImagePreviewComponent_li_5_Template, 2, 3, \"li\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"div\", 6, 7);\n      i0.ɵɵlistener(\"cdkDragReleased\", function NzImagePreviewComponent_Template_div_cdkDragReleased_6_listener() {\n        return ctx.onDragReleased();\n      });\n      i0.ɵɵtemplate(8, NzImagePreviewComponent_ng_container_8_Template, 2, 1, \"ng-container\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(9, NzImagePreviewComponent_ng_container_9_Template, 5, 4, \"ng-container\", 9);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(10, \"div\", 1);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngForOf\", ctx.operations);\n      i0.ɵɵadvance(1);\n      i0.ɵɵstyleProp(\"transform\", ctx.previewImageWrapperTransform);\n      i0.ɵɵproperty(\"cdkDragFreeDragPosition\", ctx.position);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.images);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.images.length > 1);\n    }\n  },\n  dependencies: [i6.CdkDrag, i6.CdkDragHandle, i7.NgForOf, i7.NgIf, i8.NzIconDirective],\n  encapsulation: 2,\n  data: {\n    animation: [fadeMotion]\n  },\n  changeDetection: 0\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NzImagePreviewComponent, [{\n    type: Component,\n    args: [{\n      selector: 'nz-image-preview',\n      exportAs: 'nzImagePreview',\n      animations: [fadeMotion],\n      template: `\n    <div class=\"ant-image-preview\">\n      <div tabindex=\"0\" aria-hidden=\"true\" style=\"width: 0; height: 0; overflow: hidden; outline: none;\"></div>\n      <div class=\"ant-image-preview-content\">\n        <div class=\"ant-image-preview-body\">\n          <ul class=\"ant-image-preview-operations\">\n            <li\n              class=\"ant-image-preview-operations-operation\"\n              [class.ant-image-preview-operations-operation-disabled]=\"zoomOutDisabled && option.type === 'zoomOut'\"\n              (click)=\"option.onClick()\"\n              *ngFor=\"let option of operations\"\n            >\n              <span class=\"ant-image-preview-operations-icon\" nz-icon [nzType]=\"option.icon\" nzTheme=\"outline\"></span>\n            </li>\n          </ul>\n          <div\n            class=\"ant-image-preview-img-wrapper\"\n            #imagePreviewWrapper\n            cdkDrag\n            [style.transform]=\"previewImageWrapperTransform\"\n            [cdkDragFreeDragPosition]=\"position\"\n            (cdkDragReleased)=\"onDragReleased()\"\n          >\n            <ng-container *ngFor=\"let image of images; index as imageIndex\">\n              <img\n                cdkDragHandle\n                class=\"ant-image-preview-img\"\n                #imgRef\n                *ngIf=\"index === imageIndex\"\n                [attr.src]=\"sanitizerResourceUrl(image.src)\"\n                [attr.srcset]=\"image.srcset\"\n                [attr.alt]=\"image.alt\"\n                [style.width]=\"image.width\"\n                [style.height]=\"image.height\"\n                [style.transform]=\"previewImageTransform\"\n              />\n            </ng-container>\n          </div>\n          <ng-container *ngIf=\"images.length > 1\">\n            <div\n              class=\"ant-image-preview-switch-left\"\n              [class.ant-image-preview-switch-left-disabled]=\"index <= 0\"\n              (click)=\"onSwitchLeft($event)\"\n            >\n              <span nz-icon nzType=\"left\" nzTheme=\"outline\"></span>\n            </div>\n            <div\n              class=\"ant-image-preview-switch-right\"\n              [class.ant-image-preview-switch-right-disabled]=\"index >= images.length - 1\"\n              (click)=\"onSwitchRight($event)\"\n            >\n              <span nz-icon nzType=\"right\" nzTheme=\"outline\"></span>\n            </div>\n          </ng-container>\n        </div>\n      </div>\n      <div tabindex=\"0\" aria-hidden=\"true\" style=\"width: 0; height: 0; overflow: hidden; outline: none;\"></div>\n    </div>\n  `,\n      preserveWhitespaces: false,\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      encapsulation: ViewEncapsulation.None,\n      host: {\n        class: 'ant-image-preview-wrap',\n        '[class.ant-image-preview-moving]': 'isDragging',\n        '[style.zIndex]': 'config.nzZIndex',\n        '[@.disabled]': 'config.nzNoAnimation',\n        '[@fadeMotion]': 'animationState',\n        '(@fadeMotion.start)': 'onAnimationStart($event)',\n        '(@fadeMotion.done)': 'onAnimationDone($event)',\n        tabindex: '-1',\n        role: 'document'\n      },\n      providers: [NzDestroyService]\n    }]\n  }], function () {\n    return [{\n      type: i0.NgZone\n    }, {\n      type: i0.ElementRef\n    }, {\n      type: i0.ChangeDetectorRef\n    }, {\n      type: i1.NzConfigService\n    }, {\n      type: NzImagePreviewOptions\n    }, {\n      type: i3.OverlayRef\n    }, {\n      type: i4.NzDestroyService\n    }, {\n      type: i5.DomSanitizer\n    }];\n  }, {\n    imageRef: [{\n      type: ViewChild,\n      args: ['imgRef']\n    }],\n    imagePreviewWrapper: [{\n      type: ViewChild,\n      args: ['imagePreviewWrapper', {\n        static: true\n      }]\n    }]\n  });\n})();\nclass NzImageService {\n  constructor(overlay, injector, nzConfigService, directionality) {\n    this.overlay = overlay;\n    this.injector = injector;\n    this.nzConfigService = nzConfigService;\n    this.directionality = directionality;\n  }\n  preview(images, options) {\n    return this.display(images, options);\n  }\n  display(images, config) {\n    const configMerged = {\n      ...new NzImagePreviewOptions(),\n      ...(config ?? {})\n    };\n    const overlayRef = this.createOverlay(configMerged);\n    const previewComponent = this.attachPreviewComponent(overlayRef, configMerged);\n    previewComponent.setImages(images);\n    const previewRef = new NzImagePreviewRef(previewComponent, configMerged, overlayRef);\n    previewComponent.previewRef = previewRef;\n    return previewRef;\n  }\n  attachPreviewComponent(overlayRef, config) {\n    const injector = Injector.create({\n      parent: this.injector,\n      providers: [{\n        provide: OverlayRef,\n        useValue: overlayRef\n      }, {\n        provide: NzImagePreviewOptions,\n        useValue: config\n      }]\n    });\n    const containerPortal = new ComponentPortal(NzImagePreviewComponent, null, injector);\n    const containerRef = overlayRef.attach(containerPortal);\n    return containerRef.instance;\n  }\n  createOverlay(config) {\n    const globalConfig = this.nzConfigService.getConfigForComponent(NZ_CONFIG_MODULE_NAME$1) || {};\n    const overLayConfig = new OverlayConfig({\n      hasBackdrop: true,\n      scrollStrategy: this.overlay.scrollStrategies.block(),\n      positionStrategy: this.overlay.position().global(),\n      disposeOnNavigation: config.nzCloseOnNavigation ?? globalConfig.nzCloseOnNavigation ?? true,\n      backdropClass: IMAGE_PREVIEW_MASK_CLASS_NAME,\n      direction: config.nzDirection || globalConfig.nzDirection || this.directionality.value\n    });\n    return this.overlay.create(overLayConfig);\n  }\n}\nNzImageService.ɵfac = function NzImageService_Factory(t) {\n  return new (t || NzImageService)(i0.ɵɵinject(i3.Overlay), i0.ɵɵinject(i0.Injector), i0.ɵɵinject(i1.NzConfigService), i0.ɵɵinject(i3$1.Directionality, 8));\n};\nNzImageService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: NzImageService,\n  factory: NzImageService.ɵfac\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NzImageService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: i3.Overlay\n    }, {\n      type: i0.Injector\n    }, {\n      type: i1.NzConfigService\n    }, {\n      type: i3$1.Directionality,\n      decorators: [{\n        type: Optional\n      }]\n    }];\n  }, null);\n})();\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nclass NzImageGroupComponent {\n  constructor() {\n    this.images = [];\n  }\n  addImage(image) {\n    this.images.push(image);\n  }\n}\nNzImageGroupComponent.ɵfac = function NzImageGroupComponent_Factory(t) {\n  return new (t || NzImageGroupComponent)();\n};\nNzImageGroupComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: NzImageGroupComponent,\n  selectors: [[\"nz-image-group\"]],\n  exportAs: [\"nzImageGroup\"],\n  ngContentSelectors: _c2,\n  decls: 1,\n  vars: 0,\n  template: function NzImageGroupComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵprojectionDef();\n      i0.ɵɵprojection(0);\n    }\n  },\n  encapsulation: 2,\n  changeDetection: 0\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NzImageGroupComponent, [{\n    type: Component,\n    args: [{\n      selector: 'nz-image-group',\n      exportAs: 'nzImageGroup',\n      template: '<ng-content></ng-content>',\n      preserveWhitespaces: false,\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      encapsulation: ViewEncapsulation.None\n    }]\n  }], null, null);\n})();\nconst NZ_CONFIG_MODULE_NAME = 'image';\nclass NzImageDirective {\n  constructor(document, nzConfigService, elementRef, nzImageService, cdr, parentGroup, directionality) {\n    this.document = document;\n    this.nzConfigService = nzConfigService;\n    this.elementRef = elementRef;\n    this.nzImageService = nzImageService;\n    this.cdr = cdr;\n    this.parentGroup = parentGroup;\n    this.directionality = directionality;\n    this._nzModuleName = NZ_CONFIG_MODULE_NAME;\n    this.nzSrc = '';\n    this.nzSrcset = '';\n    this.nzDisablePreview = false;\n    this.nzFallback = null;\n    this.nzPlaceholder = null;\n    this.status = 'normal';\n    this.backLoadDestroy$ = new Subject();\n    this.destroy$ = new Subject();\n  }\n  get previewable() {\n    return !this.nzDisablePreview && this.status !== 'error';\n  }\n  ngOnInit() {\n    this.backLoad();\n    if (this.parentGroup) {\n      this.parentGroup.addImage(this);\n    }\n    if (this.directionality) {\n      this.directionality.change?.pipe(takeUntil(this.destroy$)).subscribe(direction => {\n        this.dir = direction;\n        this.cdr.detectChanges();\n      });\n      this.dir = this.directionality.value;\n    }\n  }\n  ngOnDestroy() {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n  onPreview() {\n    if (!this.previewable) {\n      return;\n    }\n    if (this.parentGroup) {\n      // preview inside image group\n      const previewAbleImages = this.parentGroup.images.filter(e => e.previewable);\n      const previewImages = previewAbleImages.map(e => ({\n        src: e.nzSrc,\n        srcset: e.nzSrcset\n      }));\n      const previewIndex = previewAbleImages.findIndex(el => this === el);\n      const previewRef = this.nzImageService.preview(previewImages, {\n        nzDirection: this.dir\n      });\n      previewRef.switchTo(previewIndex);\n    } else {\n      // preview not inside image group\n      const previewImages = [{\n        src: this.nzSrc,\n        srcset: this.nzSrcset\n      }];\n      this.nzImageService.preview(previewImages, {\n        nzDirection: this.dir\n      });\n    }\n  }\n  getElement() {\n    return this.elementRef;\n  }\n  ngOnChanges(changes) {\n    const {\n      nzSrc\n    } = changes;\n    if (nzSrc) {\n      this.getElement().nativeElement.src = nzSrc.currentValue;\n      this.backLoad();\n    }\n  }\n  /**\n   * use internal Image object handle fallback & placeholder\n   *\n   * @private\n   */\n  backLoad() {\n    this.backLoadImage = this.document.createElement('img');\n    this.backLoadImage.src = this.nzSrc;\n    this.backLoadImage.srcset = this.nzSrcset;\n    this.status = 'loading';\n    // unsubscribe last backLoad\n    this.backLoadDestroy$.next();\n    this.backLoadDestroy$.complete();\n    this.backLoadDestroy$ = new Subject();\n    if (this.backLoadImage.complete) {\n      this.status = 'normal';\n      this.getElement().nativeElement.src = this.nzSrc;\n      this.getElement().nativeElement.srcset = this.nzSrcset;\n    } else {\n      if (this.nzPlaceholder) {\n        this.getElement().nativeElement.src = this.nzPlaceholder;\n        this.getElement().nativeElement.srcset = '';\n      } else {\n        this.getElement().nativeElement.src = this.nzSrc;\n        this.getElement().nativeElement.srcset = this.nzSrcset;\n      }\n      // The `nz-image` directive can be destroyed before the `load` or `error` event is dispatched,\n      // so there's no sense to keep capturing `this`.\n      fromEvent(this.backLoadImage, 'load').pipe(takeUntil(this.backLoadDestroy$), takeUntil(this.destroy$)).subscribe(() => {\n        this.status = 'normal';\n        this.getElement().nativeElement.src = this.nzSrc;\n        this.getElement().nativeElement.srcset = this.nzSrcset;\n      });\n      fromEvent(this.backLoadImage, 'error').pipe(takeUntil(this.backLoadDestroy$), takeUntil(this.destroy$)).subscribe(() => {\n        this.status = 'error';\n        if (this.nzFallback) {\n          this.getElement().nativeElement.src = this.nzFallback;\n          this.getElement().nativeElement.srcset = '';\n        }\n      });\n    }\n  }\n}\nNzImageDirective.ɵfac = function NzImageDirective_Factory(t) {\n  return new (t || NzImageDirective)(i0.ɵɵdirectiveInject(DOCUMENT), i0.ɵɵdirectiveInject(i1.NzConfigService), i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(NzImageService), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(NzImageGroupComponent, 8), i0.ɵɵdirectiveInject(i3$1.Directionality, 8));\n};\nNzImageDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n  type: NzImageDirective,\n  selectors: [[\"img\", \"nz-image\", \"\"]],\n  hostBindings: function NzImageDirective_HostBindings(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵlistener(\"click\", function NzImageDirective_click_HostBindingHandler() {\n        return ctx.onPreview();\n      });\n    }\n  },\n  inputs: {\n    nzSrc: \"nzSrc\",\n    nzSrcset: \"nzSrcset\",\n    nzDisablePreview: \"nzDisablePreview\",\n    nzFallback: \"nzFallback\",\n    nzPlaceholder: \"nzPlaceholder\"\n  },\n  exportAs: [\"nzImage\"],\n  features: [i0.ɵɵNgOnChangesFeature]\n});\n__decorate([InputBoolean(), WithConfig()], NzImageDirective.prototype, \"nzDisablePreview\", void 0);\n__decorate([WithConfig()], NzImageDirective.prototype, \"nzFallback\", void 0);\n__decorate([WithConfig()], NzImageDirective.prototype, \"nzPlaceholder\", void 0);\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NzImageDirective, [{\n    type: Directive,\n    args: [{\n      selector: 'img[nz-image]',\n      exportAs: 'nzImage',\n      host: {\n        '(click)': 'onPreview()'\n      }\n    }]\n  }], function () {\n    return [{\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [DOCUMENT]\n      }]\n    }, {\n      type: i1.NzConfigService\n    }, {\n      type: i0.ElementRef\n    }, {\n      type: NzImageService\n    }, {\n      type: i0.ChangeDetectorRef\n    }, {\n      type: NzImageGroupComponent,\n      decorators: [{\n        type: Optional\n      }]\n    }, {\n      type: i3$1.Directionality,\n      decorators: [{\n        type: Optional\n      }]\n    }];\n  }, {\n    nzSrc: [{\n      type: Input\n    }],\n    nzSrcset: [{\n      type: Input\n    }],\n    nzDisablePreview: [{\n      type: Input\n    }],\n    nzFallback: [{\n      type: Input\n    }],\n    nzPlaceholder: [{\n      type: Input\n    }]\n  });\n})();\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nclass NzImageModule {}\nNzImageModule.ɵfac = function NzImageModule_Factory(t) {\n  return new (t || NzImageModule)();\n};\nNzImageModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: NzImageModule\n});\nNzImageModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  providers: [NzImageService],\n  imports: [BidiModule, OverlayModule, PortalModule, DragDropModule, CommonModule, NzIconModule, NzPipesModule]\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NzImageModule, [{\n    type: NgModule,\n    args: [{\n      imports: [BidiModule, OverlayModule, PortalModule, DragDropModule, CommonModule, NzIconModule, NzPipesModule],\n      exports: [NzImageDirective, NzImagePreviewComponent, NzImageGroupComponent],\n      providers: [NzImageService],\n      declarations: [NzImageDirective, NzImagePreviewComponent, NzImageGroupComponent]\n    }]\n  }], null, null);\n})();\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { FADE_CLASS_NAME_MAP, IMAGE_PREVIEW_MASK_CLASS_NAME, NZ_CONFIG_MODULE_NAME$1 as NZ_CONFIG_MODULE_NAME, NzImageDirective, NzImageGroupComponent, NzImageModule, NzImagePreviewComponent, NzImagePreviewOptions, NzImagePreviewRef, NzImageService, getClientSize, getFitContentPosition, getOffset };","map":{"version":3,"names":["__decorate","i7","DOCUMENT","CommonModule","i0","EventEmitter","Component","ChangeDetectionStrategy","ViewEncapsulation","ViewChild","Injector","Injectable","Optional","Directive","Inject","Input","NgModule","Subject","fromEvent","filter","take","takeUntil","i1","WithConfig","isNotNil","InputBoolean","i3","OverlayRef","OverlayConfig","OverlayModule","ComponentPortal","PortalModule","ESCAPE","LEFT_ARROW","RIGHT_ARROW","hasModifierKey","fadeMotion","i4","NzDestroyService","i5","i6","DragDropModule","i8","NzIconModule","i3$1","BidiModule","NzPipesModule","FADE_CLASS_NAME_MAP","enter","enterActive","leave","leaveActive","IMAGE_PREVIEW_MASK_CLASS_NAME","NZ_CONFIG_MODULE_NAME$1","NzImagePreviewOptions","constructor","nzKeyboard","nzNoAnimation","nzMaskClosable","nzCloseOnNavigation","NzImagePreviewRef","previewInstance","config","overlayRef","destroy$","keydownEvents","pipe","event","keyCode","subscribe","preventDefault","close","prev","next","detachments","dispose","containerClick","closeClick","animationStateChanged","phaseName","toState","switchTo","index","startLeaveAnimation","getFitContentPosition","params","fixPos","width","clientWidth","height","clientHeight","x","y","fitPoint","left","top","getOffset","node","box","getBoundingClientRect","docElem","document","documentElement","window","pageXOffset","scrollLeft","clientLeft","body","pageYOffset","scrollTop","clientTop","getClientSize","innerHeight","start","size","clientSize","startAddSize","offsetStart","distance","initialPosition","NzImagePreviewComponent","ngZone","host","cdr","nzConfigService","sanitizer","images","isDragging","visible","animationState","previewImageTransform","previewImageWrapperTransform","operations","icon","onClick","onClose","type","onZoomIn","onZoomOut","onRotateRight","onRotateLeft","zoomOutDisabled","position","zoom","nzZoom","rotate","nzRotate","updateZoomOutDisabled","updatePreviewImageTransform","updatePreviewImageWrapperTransform","animationDisabled","maskClosable","defaultConfig","getConfigForComponent","ngOnInit","runOutsideAngular","nativeElement","target","currentTarget","observers","length","run","emit","imagePreviewWrapper","setImages","markForCheck","reset","onSwitchLeft","stopPropagation","onSwitchRight","onAnimationStart","setEnterAnimationClass","setLeaveAnimationClass","onAnimationDone","onDragReleased","imageRef","offsetWidth","offsetHeight","isRotate","fitContentParams","fitContentPos","sanitizerResourceUrl","url","bypassSecurityTrustResourceUrl","backdropElement","classList","add","ɵfac","NgZone","ElementRef","ChangeDetectorRef","NzConfigService","DomSanitizer","ɵcmp","CdkDrag","CdkDragHandle","NgForOf","NgIf","NzIconDirective","args","selector","exportAs","animations","template","preserveWhitespaces","changeDetection","OnPush","encapsulation","None","class","tabindex","role","providers","static","NzImageService","overlay","injector","directionality","preview","options","display","configMerged","createOverlay","previewComponent","attachPreviewComponent","previewRef","create","parent","provide","useValue","containerPortal","containerRef","attach","instance","globalConfig","overLayConfig","hasBackdrop","scrollStrategy","scrollStrategies","block","positionStrategy","global","disposeOnNavigation","backdropClass","direction","nzDirection","value","Overlay","Directionality","ɵprov","decorators","NzImageGroupComponent","addImage","image","push","NZ_CONFIG_MODULE_NAME","NzImageDirective","elementRef","nzImageService","parentGroup","_nzModuleName","nzSrc","nzSrcset","nzDisablePreview","nzFallback","nzPlaceholder","status","backLoadDestroy$","previewable","backLoad","change","dir","detectChanges","ngOnDestroy","complete","onPreview","previewAbleImages","e","previewImages","map","src","srcset","previewIndex","findIndex","el","getElement","ngOnChanges","changes","currentValue","backLoadImage","createElement","ɵdir","prototype","undefined","NzImageModule","ɵmod","ɵinj","imports","exports","declarations"],"sources":["/Users/SSL/Desktop/GSKGIt/aep/node_modules/ng-zorro-antd/fesm2020/ng-zorro-antd-image.mjs"],"sourcesContent":["import { __decorate } from 'tslib';\nimport * as i7 from '@angular/common';\nimport { DOCUMENT, CommonModule } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { EventEmitter, Component, ChangeDetectionStrategy, ViewEncapsulation, ViewChild, Injector, Injectable, Optional, Directive, Inject, Input, NgModule } from '@angular/core';\nimport { Subject, fromEvent } from 'rxjs';\nimport { filter, take, takeUntil } from 'rxjs/operators';\nimport * as i1 from 'ng-zorro-antd/core/config';\nimport { WithConfig } from 'ng-zorro-antd/core/config';\nimport { isNotNil, InputBoolean } from 'ng-zorro-antd/core/util';\nimport * as i3 from '@angular/cdk/overlay';\nimport { OverlayRef, OverlayConfig, OverlayModule } from '@angular/cdk/overlay';\nimport { ComponentPortal, PortalModule } from '@angular/cdk/portal';\nimport { ESCAPE, LEFT_ARROW, RIGHT_ARROW, hasModifierKey } from '@angular/cdk/keycodes';\nimport { fadeMotion } from 'ng-zorro-antd/core/animation';\nimport * as i4 from 'ng-zorro-antd/core/services';\nimport { NzDestroyService } from 'ng-zorro-antd/core/services';\nimport * as i5 from '@angular/platform-browser';\nimport * as i6 from '@angular/cdk/drag-drop';\nimport { DragDropModule } from '@angular/cdk/drag-drop';\nimport * as i8 from 'ng-zorro-antd/icon';\nimport { NzIconModule } from 'ng-zorro-antd/icon';\nimport * as i3$1 from '@angular/cdk/bidi';\nimport { BidiModule } from '@angular/cdk/bidi';\nimport { NzPipesModule } from 'ng-zorro-antd/pipes';\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nconst FADE_CLASS_NAME_MAP = {\n    enter: 'ant-fade-enter',\n    enterActive: 'ant-fade-enter-active',\n    leave: 'ant-fade-leave',\n    leaveActive: 'ant-fade-leave-active'\n};\nconst IMAGE_PREVIEW_MASK_CLASS_NAME = 'ant-image-preview-mask';\nconst NZ_CONFIG_MODULE_NAME$1 = 'image';\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nclass NzImagePreviewOptions {\n    constructor() {\n        this.nzKeyboard = true;\n        this.nzNoAnimation = false;\n        this.nzMaskClosable = true;\n        this.nzCloseOnNavigation = true;\n    }\n}\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nclass NzImagePreviewRef {\n    constructor(previewInstance, config, overlayRef) {\n        this.previewInstance = previewInstance;\n        this.config = config;\n        this.overlayRef = overlayRef;\n        this.destroy$ = new Subject();\n        overlayRef\n            .keydownEvents()\n            .pipe(filter(event => this.config.nzKeyboard &&\n            (event.keyCode === ESCAPE || event.keyCode === LEFT_ARROW || event.keyCode === RIGHT_ARROW) &&\n            !hasModifierKey(event)))\n            .subscribe(event => {\n            event.preventDefault();\n            if (event.keyCode === ESCAPE) {\n                this.close();\n            }\n            if (event.keyCode === LEFT_ARROW) {\n                this.prev();\n            }\n            if (event.keyCode === RIGHT_ARROW) {\n                this.next();\n            }\n        });\n        overlayRef.detachments().subscribe(() => {\n            this.overlayRef.dispose();\n        });\n        previewInstance.containerClick.pipe(take(1), takeUntil(this.destroy$)).subscribe(() => {\n            this.close();\n        });\n        previewInstance.closeClick.pipe(take(1), takeUntil(this.destroy$)).subscribe(() => {\n            this.close();\n        });\n        previewInstance.animationStateChanged\n            .pipe(filter(event => event.phaseName === 'done' && event.toState === 'leave'), take(1))\n            .subscribe(() => {\n            this.dispose();\n        });\n    }\n    switchTo(index) {\n        this.previewInstance.switchTo(index);\n    }\n    next() {\n        this.previewInstance.next();\n    }\n    prev() {\n        this.previewInstance.prev();\n    }\n    close() {\n        this.previewInstance.startLeaveAnimation();\n    }\n    dispose() {\n        this.destroy$.next();\n        this.overlayRef.dispose();\n    }\n}\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n/**\n * fit content details: https://github.com/NG-ZORRO/ng-zorro-antd/pull/6154#issuecomment-745025554\n *\n * calc position x,y point\n *\n * CASE (width <= clientWidth && height <= clientHeight):\n *\n * ------------- clientWidth -------------\n * |                                     |\n * |        ------ width ------          |\n * |        |                 |          |\n * |        |                 |          |\n * client   height            |          |\n * Height   |                 |          |\n * |        |                 |          |\n * |        -------------------          |\n * |                                     |\n * |                                     |\n * ---------------------------------------\n * fixedPosition = { x: 0, y: 0 }\n *\n *\n *\n * CASE (width > clientWidth || height > clientHeight):\n *\n * ------------- clientWidth -------------\n * |        |                            |\n * |        top                          |\n * |        |                            |\n * |--left--|--------------- width -----------------\n * |        |                                      |\n * client   |                                      |\n * Height   |                                      |\n * |        |                                      |\n * |        |                                      |\n * |        height                                 |\n * |        |                                      |\n * ---------|                                      |\n *          |                                      |\n *          |                                      |\n *          |                                      |\n *          ----------------------------------------\n *\n *\n * - left || top > 0\n *   left -> 0 || top -> 0\n *\n * - (left + width) < clientWidth || (top + height) < clientHeight\n * - left | top + width | height < clientWidth | clientHeight -> Back left | top + width | height === clientWidth | clientHeight\n *\n * DEFAULT:\n * - hold position\n *\n */\nfunction getFitContentPosition(params) {\n    let fixPos = {};\n    if (params.width <= params.clientWidth && params.height <= params.clientHeight) {\n        fixPos = {\n            x: 0,\n            y: 0\n        };\n    }\n    if (params.width > params.clientWidth || params.height > params.clientHeight) {\n        fixPos = {\n            x: fitPoint(params.left, params.width, params.clientWidth),\n            y: fitPoint(params.top, params.height, params.clientHeight)\n        };\n    }\n    return fixPos;\n}\nfunction getOffset(node) {\n    const box = node.getBoundingClientRect();\n    const docElem = document.documentElement;\n    // use docElem.scrollLeft to support IE\n    return {\n        left: box.left + (window.pageXOffset || docElem.scrollLeft) - (docElem.clientLeft || document.body.clientLeft || 0),\n        top: box.top + (window.pageYOffset || docElem.scrollTop) - (docElem.clientTop || document.body.clientTop || 0)\n    };\n}\nfunction getClientSize() {\n    const width = document.documentElement.clientWidth;\n    const height = window.innerHeight || document.documentElement.clientHeight;\n    return {\n        width,\n        height\n    };\n}\nfunction fitPoint(start, size, clientSize) {\n    const startAddSize = start + size;\n    const offsetStart = (size - clientSize) / 2;\n    let distance = null;\n    if (size > clientSize) {\n        if (start > 0) {\n            distance = offsetStart;\n        }\n        if (start < 0 && startAddSize < clientSize) {\n            distance = -offsetStart;\n        }\n    }\n    else {\n        if (start < 0 || startAddSize > clientSize) {\n            distance = start < 0 ? offsetStart : -offsetStart;\n        }\n    }\n    return distance;\n}\n\nconst initialPosition = {\n    x: 0,\n    y: 0\n};\nclass NzImagePreviewComponent {\n    constructor(ngZone, host, cdr, nzConfigService, config, overlayRef, destroy$, sanitizer) {\n        this.ngZone = ngZone;\n        this.host = host;\n        this.cdr = cdr;\n        this.nzConfigService = nzConfigService;\n        this.config = config;\n        this.overlayRef = overlayRef;\n        this.destroy$ = destroy$;\n        this.sanitizer = sanitizer;\n        this.images = [];\n        this.index = 0;\n        this.isDragging = false;\n        this.visible = true;\n        this.animationState = 'enter';\n        this.animationStateChanged = new EventEmitter();\n        this.previewImageTransform = '';\n        this.previewImageWrapperTransform = '';\n        this.operations = [\n            {\n                icon: 'close',\n                onClick: () => {\n                    this.onClose();\n                },\n                type: 'close'\n            },\n            {\n                icon: 'zoom-in',\n                onClick: () => {\n                    this.onZoomIn();\n                },\n                type: 'zoomIn'\n            },\n            {\n                icon: 'zoom-out',\n                onClick: () => {\n                    this.onZoomOut();\n                },\n                type: 'zoomOut'\n            },\n            {\n                icon: 'rotate-right',\n                onClick: () => {\n                    this.onRotateRight();\n                },\n                type: 'rotateRight'\n            },\n            {\n                icon: 'rotate-left',\n                onClick: () => {\n                    this.onRotateLeft();\n                },\n                type: 'rotateLeft'\n            }\n        ];\n        this.zoomOutDisabled = false;\n        this.position = { ...initialPosition };\n        this.containerClick = new EventEmitter();\n        this.closeClick = new EventEmitter();\n        this.zoom = this.config.nzZoom ?? 1;\n        this.rotate = this.config.nzRotate ?? 0;\n        this.updateZoomOutDisabled();\n        this.updatePreviewImageTransform();\n        this.updatePreviewImageWrapperTransform();\n    }\n    get animationDisabled() {\n        return this.config.nzNoAnimation ?? false;\n    }\n    get maskClosable() {\n        const defaultConfig = this.nzConfigService.getConfigForComponent(NZ_CONFIG_MODULE_NAME$1) || {};\n        return this.config.nzMaskClosable ?? defaultConfig.nzMaskClosable ?? true;\n    }\n    ngOnInit() {\n        this.ngZone.runOutsideAngular(() => {\n            fromEvent(this.host.nativeElement, 'click')\n                .pipe(takeUntil(this.destroy$))\n                .subscribe(event => {\n                if (event.target === event.currentTarget && this.maskClosable && this.containerClick.observers.length) {\n                    this.ngZone.run(() => this.containerClick.emit());\n                }\n            });\n            fromEvent(this.imagePreviewWrapper.nativeElement, 'mousedown')\n                .pipe(takeUntil(this.destroy$))\n                .subscribe(() => {\n                this.isDragging = true;\n            });\n        });\n    }\n    setImages(images) {\n        this.images = images;\n        this.cdr.markForCheck();\n    }\n    switchTo(index) {\n        this.index = index;\n        this.cdr.markForCheck();\n    }\n    next() {\n        if (this.index < this.images.length - 1) {\n            this.reset();\n            this.index++;\n            this.updatePreviewImageTransform();\n            this.updatePreviewImageWrapperTransform();\n            this.updateZoomOutDisabled();\n            this.cdr.markForCheck();\n        }\n    }\n    prev() {\n        if (this.index > 0) {\n            this.reset();\n            this.index--;\n            this.updatePreviewImageTransform();\n            this.updatePreviewImageWrapperTransform();\n            this.updateZoomOutDisabled();\n            this.cdr.markForCheck();\n        }\n    }\n    markForCheck() {\n        this.cdr.markForCheck();\n    }\n    onClose() {\n        this.closeClick.emit();\n    }\n    onZoomIn() {\n        this.zoom += 1;\n        this.updatePreviewImageTransform();\n        this.updateZoomOutDisabled();\n        this.position = { ...initialPosition };\n    }\n    onZoomOut() {\n        if (this.zoom > 1) {\n            this.zoom -= 1;\n            this.updatePreviewImageTransform();\n            this.updateZoomOutDisabled();\n            this.position = { ...initialPosition };\n        }\n    }\n    onRotateRight() {\n        this.rotate += 90;\n        this.updatePreviewImageTransform();\n    }\n    onRotateLeft() {\n        this.rotate -= 90;\n        this.updatePreviewImageTransform();\n    }\n    onSwitchLeft(event) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.prev();\n    }\n    onSwitchRight(event) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.next();\n    }\n    onAnimationStart(event) {\n        if (event.toState === 'enter') {\n            this.setEnterAnimationClass();\n        }\n        else if (event.toState === 'leave') {\n            this.setLeaveAnimationClass();\n        }\n        this.animationStateChanged.emit(event);\n    }\n    onAnimationDone(event) {\n        if (event.toState === 'enter') {\n            this.setEnterAnimationClass();\n        }\n        else if (event.toState === 'leave') {\n            this.setLeaveAnimationClass();\n        }\n        this.animationStateChanged.emit(event);\n    }\n    startLeaveAnimation() {\n        this.animationState = 'leave';\n        this.cdr.markForCheck();\n    }\n    onDragReleased() {\n        this.isDragging = false;\n        const width = this.imageRef.nativeElement.offsetWidth * this.zoom;\n        const height = this.imageRef.nativeElement.offsetHeight * this.zoom;\n        const { left, top } = getOffset(this.imageRef.nativeElement);\n        const { width: clientWidth, height: clientHeight } = getClientSize();\n        const isRotate = this.rotate % 180 !== 0;\n        const fitContentParams = {\n            width: isRotate ? height : width,\n            height: isRotate ? width : height,\n            left,\n            top,\n            clientWidth,\n            clientHeight\n        };\n        const fitContentPos = getFitContentPosition(fitContentParams);\n        if (isNotNil(fitContentPos.x) || isNotNil(fitContentPos.y)) {\n            this.position = { ...this.position, ...fitContentPos };\n        }\n    }\n    sanitizerResourceUrl(url) {\n        return this.sanitizer.bypassSecurityTrustResourceUrl(url);\n    }\n    updatePreviewImageTransform() {\n        this.previewImageTransform = `scale3d(${this.zoom}, ${this.zoom}, 1) rotate(${this.rotate}deg)`;\n    }\n    updatePreviewImageWrapperTransform() {\n        this.previewImageWrapperTransform = `translate3d(${this.position.x}px, ${this.position.y}px, 0)`;\n    }\n    updateZoomOutDisabled() {\n        this.zoomOutDisabled = this.zoom <= 1;\n    }\n    setEnterAnimationClass() {\n        if (this.animationDisabled) {\n            return;\n        }\n        const backdropElement = this.overlayRef.backdropElement;\n        if (backdropElement) {\n            backdropElement.classList.add(FADE_CLASS_NAME_MAP.enter);\n            backdropElement.classList.add(FADE_CLASS_NAME_MAP.enterActive);\n        }\n    }\n    setLeaveAnimationClass() {\n        if (this.animationDisabled) {\n            return;\n        }\n        const backdropElement = this.overlayRef.backdropElement;\n        if (backdropElement) {\n            backdropElement.classList.add(FADE_CLASS_NAME_MAP.leave);\n            backdropElement.classList.add(FADE_CLASS_NAME_MAP.leaveActive);\n        }\n    }\n    reset() {\n        this.zoom = 1;\n        this.rotate = 0;\n        this.position = { ...initialPosition };\n    }\n}\nNzImagePreviewComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.0.4\", ngImport: i0, type: NzImagePreviewComponent, deps: [{ token: i0.NgZone }, { token: i0.ElementRef }, { token: i0.ChangeDetectorRef }, { token: i1.NzConfigService }, { token: NzImagePreviewOptions }, { token: i3.OverlayRef }, { token: i4.NzDestroyService }, { token: i5.DomSanitizer }], target: i0.ɵɵFactoryTarget.Component });\nNzImagePreviewComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"15.0.4\", type: NzImagePreviewComponent, selector: \"nz-image-preview\", host: { attributes: { \"tabindex\": \"-1\", \"role\": \"document\" }, listeners: { \"@fadeMotion.start\": \"onAnimationStart($event)\", \"@fadeMotion.done\": \"onAnimationDone($event)\" }, properties: { \"class.ant-image-preview-moving\": \"isDragging\", \"style.zIndex\": \"config.nzZIndex\", \"@.disabled\": \"config.nzNoAnimation\", \"@fadeMotion\": \"animationState\" }, classAttribute: \"ant-image-preview-wrap\" }, providers: [NzDestroyService], viewQueries: [{ propertyName: \"imageRef\", first: true, predicate: [\"imgRef\"], descendants: true }, { propertyName: \"imagePreviewWrapper\", first: true, predicate: [\"imagePreviewWrapper\"], descendants: true, static: true }], exportAs: [\"nzImagePreview\"], ngImport: i0, template: `\n    <div class=\"ant-image-preview\">\n      <div tabindex=\"0\" aria-hidden=\"true\" style=\"width: 0; height: 0; overflow: hidden; outline: none;\"></div>\n      <div class=\"ant-image-preview-content\">\n        <div class=\"ant-image-preview-body\">\n          <ul class=\"ant-image-preview-operations\">\n            <li\n              class=\"ant-image-preview-operations-operation\"\n              [class.ant-image-preview-operations-operation-disabled]=\"zoomOutDisabled && option.type === 'zoomOut'\"\n              (click)=\"option.onClick()\"\n              *ngFor=\"let option of operations\"\n            >\n              <span class=\"ant-image-preview-operations-icon\" nz-icon [nzType]=\"option.icon\" nzTheme=\"outline\"></span>\n            </li>\n          </ul>\n          <div\n            class=\"ant-image-preview-img-wrapper\"\n            #imagePreviewWrapper\n            cdkDrag\n            [style.transform]=\"previewImageWrapperTransform\"\n            [cdkDragFreeDragPosition]=\"position\"\n            (cdkDragReleased)=\"onDragReleased()\"\n          >\n            <ng-container *ngFor=\"let image of images; index as imageIndex\">\n              <img\n                cdkDragHandle\n                class=\"ant-image-preview-img\"\n                #imgRef\n                *ngIf=\"index === imageIndex\"\n                [attr.src]=\"sanitizerResourceUrl(image.src)\"\n                [attr.srcset]=\"image.srcset\"\n                [attr.alt]=\"image.alt\"\n                [style.width]=\"image.width\"\n                [style.height]=\"image.height\"\n                [style.transform]=\"previewImageTransform\"\n              />\n            </ng-container>\n          </div>\n          <ng-container *ngIf=\"images.length > 1\">\n            <div\n              class=\"ant-image-preview-switch-left\"\n              [class.ant-image-preview-switch-left-disabled]=\"index <= 0\"\n              (click)=\"onSwitchLeft($event)\"\n            >\n              <span nz-icon nzType=\"left\" nzTheme=\"outline\"></span>\n            </div>\n            <div\n              class=\"ant-image-preview-switch-right\"\n              [class.ant-image-preview-switch-right-disabled]=\"index >= images.length - 1\"\n              (click)=\"onSwitchRight($event)\"\n            >\n              <span nz-icon nzType=\"right\" nzTheme=\"outline\"></span>\n            </div>\n          </ng-container>\n        </div>\n      </div>\n      <div tabindex=\"0\" aria-hidden=\"true\" style=\"width: 0; height: 0; overflow: hidden; outline: none;\"></div>\n    </div>\n  `, isInline: true, dependencies: [{ kind: \"directive\", type: i6.CdkDrag, selector: \"[cdkDrag]\", inputs: [\"cdkDragData\", \"cdkDragLockAxis\", \"cdkDragRootElement\", \"cdkDragBoundary\", \"cdkDragStartDelay\", \"cdkDragFreeDragPosition\", \"cdkDragDisabled\", \"cdkDragConstrainPosition\", \"cdkDragPreviewClass\", \"cdkDragPreviewContainer\"], outputs: [\"cdkDragStarted\", \"cdkDragReleased\", \"cdkDragEnded\", \"cdkDragEntered\", \"cdkDragExited\", \"cdkDragDropped\", \"cdkDragMoved\"], exportAs: [\"cdkDrag\"] }, { kind: \"directive\", type: i6.CdkDragHandle, selector: \"[cdkDragHandle]\", inputs: [\"cdkDragHandleDisabled\"] }, { kind: \"directive\", type: i7.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"directive\", type: i7.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: i8.NzIconDirective, selector: \"[nz-icon]\", inputs: [\"nzSpin\", \"nzRotate\", \"nzType\", \"nzTheme\", \"nzTwotoneColor\", \"nzIconfont\"], exportAs: [\"nzIcon\"] }], animations: [fadeMotion], changeDetection: i0.ChangeDetectionStrategy.OnPush, encapsulation: i0.ViewEncapsulation.None });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.0.4\", ngImport: i0, type: NzImagePreviewComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'nz-image-preview',\n                    exportAs: 'nzImagePreview',\n                    animations: [fadeMotion],\n                    template: `\n    <div class=\"ant-image-preview\">\n      <div tabindex=\"0\" aria-hidden=\"true\" style=\"width: 0; height: 0; overflow: hidden; outline: none;\"></div>\n      <div class=\"ant-image-preview-content\">\n        <div class=\"ant-image-preview-body\">\n          <ul class=\"ant-image-preview-operations\">\n            <li\n              class=\"ant-image-preview-operations-operation\"\n              [class.ant-image-preview-operations-operation-disabled]=\"zoomOutDisabled && option.type === 'zoomOut'\"\n              (click)=\"option.onClick()\"\n              *ngFor=\"let option of operations\"\n            >\n              <span class=\"ant-image-preview-operations-icon\" nz-icon [nzType]=\"option.icon\" nzTheme=\"outline\"></span>\n            </li>\n          </ul>\n          <div\n            class=\"ant-image-preview-img-wrapper\"\n            #imagePreviewWrapper\n            cdkDrag\n            [style.transform]=\"previewImageWrapperTransform\"\n            [cdkDragFreeDragPosition]=\"position\"\n            (cdkDragReleased)=\"onDragReleased()\"\n          >\n            <ng-container *ngFor=\"let image of images; index as imageIndex\">\n              <img\n                cdkDragHandle\n                class=\"ant-image-preview-img\"\n                #imgRef\n                *ngIf=\"index === imageIndex\"\n                [attr.src]=\"sanitizerResourceUrl(image.src)\"\n                [attr.srcset]=\"image.srcset\"\n                [attr.alt]=\"image.alt\"\n                [style.width]=\"image.width\"\n                [style.height]=\"image.height\"\n                [style.transform]=\"previewImageTransform\"\n              />\n            </ng-container>\n          </div>\n          <ng-container *ngIf=\"images.length > 1\">\n            <div\n              class=\"ant-image-preview-switch-left\"\n              [class.ant-image-preview-switch-left-disabled]=\"index <= 0\"\n              (click)=\"onSwitchLeft($event)\"\n            >\n              <span nz-icon nzType=\"left\" nzTheme=\"outline\"></span>\n            </div>\n            <div\n              class=\"ant-image-preview-switch-right\"\n              [class.ant-image-preview-switch-right-disabled]=\"index >= images.length - 1\"\n              (click)=\"onSwitchRight($event)\"\n            >\n              <span nz-icon nzType=\"right\" nzTheme=\"outline\"></span>\n            </div>\n          </ng-container>\n        </div>\n      </div>\n      <div tabindex=\"0\" aria-hidden=\"true\" style=\"width: 0; height: 0; overflow: hidden; outline: none;\"></div>\n    </div>\n  `,\n                    preserveWhitespaces: false,\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                    encapsulation: ViewEncapsulation.None,\n                    host: {\n                        class: 'ant-image-preview-wrap',\n                        '[class.ant-image-preview-moving]': 'isDragging',\n                        '[style.zIndex]': 'config.nzZIndex',\n                        '[@.disabled]': 'config.nzNoAnimation',\n                        '[@fadeMotion]': 'animationState',\n                        '(@fadeMotion.start)': 'onAnimationStart($event)',\n                        '(@fadeMotion.done)': 'onAnimationDone($event)',\n                        tabindex: '-1',\n                        role: 'document'\n                    },\n                    providers: [NzDestroyService]\n                }]\n        }], ctorParameters: function () { return [{ type: i0.NgZone }, { type: i0.ElementRef }, { type: i0.ChangeDetectorRef }, { type: i1.NzConfigService }, { type: NzImagePreviewOptions }, { type: i3.OverlayRef }, { type: i4.NzDestroyService }, { type: i5.DomSanitizer }]; }, propDecorators: { imageRef: [{\n                type: ViewChild,\n                args: ['imgRef']\n            }], imagePreviewWrapper: [{\n                type: ViewChild,\n                args: ['imagePreviewWrapper', { static: true }]\n            }] } });\n\nclass NzImageService {\n    constructor(overlay, injector, nzConfigService, directionality) {\n        this.overlay = overlay;\n        this.injector = injector;\n        this.nzConfigService = nzConfigService;\n        this.directionality = directionality;\n    }\n    preview(images, options) {\n        return this.display(images, options);\n    }\n    display(images, config) {\n        const configMerged = { ...new NzImagePreviewOptions(), ...(config ?? {}) };\n        const overlayRef = this.createOverlay(configMerged);\n        const previewComponent = this.attachPreviewComponent(overlayRef, configMerged);\n        previewComponent.setImages(images);\n        const previewRef = new NzImagePreviewRef(previewComponent, configMerged, overlayRef);\n        previewComponent.previewRef = previewRef;\n        return previewRef;\n    }\n    attachPreviewComponent(overlayRef, config) {\n        const injector = Injector.create({\n            parent: this.injector,\n            providers: [\n                { provide: OverlayRef, useValue: overlayRef },\n                { provide: NzImagePreviewOptions, useValue: config }\n            ]\n        });\n        const containerPortal = new ComponentPortal(NzImagePreviewComponent, null, injector);\n        const containerRef = overlayRef.attach(containerPortal);\n        return containerRef.instance;\n    }\n    createOverlay(config) {\n        const globalConfig = this.nzConfigService.getConfigForComponent(NZ_CONFIG_MODULE_NAME$1) || {};\n        const overLayConfig = new OverlayConfig({\n            hasBackdrop: true,\n            scrollStrategy: this.overlay.scrollStrategies.block(),\n            positionStrategy: this.overlay.position().global(),\n            disposeOnNavigation: config.nzCloseOnNavigation ?? globalConfig.nzCloseOnNavigation ?? true,\n            backdropClass: IMAGE_PREVIEW_MASK_CLASS_NAME,\n            direction: config.nzDirection || globalConfig.nzDirection || this.directionality.value\n        });\n        return this.overlay.create(overLayConfig);\n    }\n}\nNzImageService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.0.4\", ngImport: i0, type: NzImageService, deps: [{ token: i3.Overlay }, { token: i0.Injector }, { token: i1.NzConfigService }, { token: i3$1.Directionality, optional: true }], target: i0.ɵɵFactoryTarget.Injectable });\nNzImageService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"15.0.4\", ngImport: i0, type: NzImageService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.0.4\", ngImport: i0, type: NzImageService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i3.Overlay }, { type: i0.Injector }, { type: i1.NzConfigService }, { type: i3$1.Directionality, decorators: [{\n                    type: Optional\n                }] }]; } });\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nclass NzImageGroupComponent {\n    constructor() {\n        this.images = [];\n    }\n    addImage(image) {\n        this.images.push(image);\n    }\n}\nNzImageGroupComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.0.4\", ngImport: i0, type: NzImageGroupComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\nNzImageGroupComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"15.0.4\", type: NzImageGroupComponent, selector: \"nz-image-group\", exportAs: [\"nzImageGroup\"], ngImport: i0, template: '<ng-content></ng-content>', isInline: true, changeDetection: i0.ChangeDetectionStrategy.OnPush, encapsulation: i0.ViewEncapsulation.None });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.0.4\", ngImport: i0, type: NzImageGroupComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'nz-image-group',\n                    exportAs: 'nzImageGroup',\n                    template: '<ng-content></ng-content>',\n                    preserveWhitespaces: false,\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                    encapsulation: ViewEncapsulation.None\n                }]\n        }] });\n\nconst NZ_CONFIG_MODULE_NAME = 'image';\nclass NzImageDirective {\n    constructor(document, nzConfigService, elementRef, nzImageService, cdr, parentGroup, directionality) {\n        this.document = document;\n        this.nzConfigService = nzConfigService;\n        this.elementRef = elementRef;\n        this.nzImageService = nzImageService;\n        this.cdr = cdr;\n        this.parentGroup = parentGroup;\n        this.directionality = directionality;\n        this._nzModuleName = NZ_CONFIG_MODULE_NAME;\n        this.nzSrc = '';\n        this.nzSrcset = '';\n        this.nzDisablePreview = false;\n        this.nzFallback = null;\n        this.nzPlaceholder = null;\n        this.status = 'normal';\n        this.backLoadDestroy$ = new Subject();\n        this.destroy$ = new Subject();\n    }\n    get previewable() {\n        return !this.nzDisablePreview && this.status !== 'error';\n    }\n    ngOnInit() {\n        this.backLoad();\n        if (this.parentGroup) {\n            this.parentGroup.addImage(this);\n        }\n        if (this.directionality) {\n            this.directionality.change?.pipe(takeUntil(this.destroy$)).subscribe((direction) => {\n                this.dir = direction;\n                this.cdr.detectChanges();\n            });\n            this.dir = this.directionality.value;\n        }\n    }\n    ngOnDestroy() {\n        this.destroy$.next();\n        this.destroy$.complete();\n    }\n    onPreview() {\n        if (!this.previewable) {\n            return;\n        }\n        if (this.parentGroup) {\n            // preview inside image group\n            const previewAbleImages = this.parentGroup.images.filter(e => e.previewable);\n            const previewImages = previewAbleImages.map(e => ({ src: e.nzSrc, srcset: e.nzSrcset }));\n            const previewIndex = previewAbleImages.findIndex(el => this === el);\n            const previewRef = this.nzImageService.preview(previewImages, { nzDirection: this.dir });\n            previewRef.switchTo(previewIndex);\n        }\n        else {\n            // preview not inside image group\n            const previewImages = [{ src: this.nzSrc, srcset: this.nzSrcset }];\n            this.nzImageService.preview(previewImages, { nzDirection: this.dir });\n        }\n    }\n    getElement() {\n        return this.elementRef;\n    }\n    ngOnChanges(changes) {\n        const { nzSrc } = changes;\n        if (nzSrc) {\n            this.getElement().nativeElement.src = nzSrc.currentValue;\n            this.backLoad();\n        }\n    }\n    /**\n     * use internal Image object handle fallback & placeholder\n     *\n     * @private\n     */\n    backLoad() {\n        this.backLoadImage = this.document.createElement('img');\n        this.backLoadImage.src = this.nzSrc;\n        this.backLoadImage.srcset = this.nzSrcset;\n        this.status = 'loading';\n        // unsubscribe last backLoad\n        this.backLoadDestroy$.next();\n        this.backLoadDestroy$.complete();\n        this.backLoadDestroy$ = new Subject();\n        if (this.backLoadImage.complete) {\n            this.status = 'normal';\n            this.getElement().nativeElement.src = this.nzSrc;\n            this.getElement().nativeElement.srcset = this.nzSrcset;\n        }\n        else {\n            if (this.nzPlaceholder) {\n                this.getElement().nativeElement.src = this.nzPlaceholder;\n                this.getElement().nativeElement.srcset = '';\n            }\n            else {\n                this.getElement().nativeElement.src = this.nzSrc;\n                this.getElement().nativeElement.srcset = this.nzSrcset;\n            }\n            // The `nz-image` directive can be destroyed before the `load` or `error` event is dispatched,\n            // so there's no sense to keep capturing `this`.\n            fromEvent(this.backLoadImage, 'load')\n                .pipe(takeUntil(this.backLoadDestroy$), takeUntil(this.destroy$))\n                .subscribe(() => {\n                this.status = 'normal';\n                this.getElement().nativeElement.src = this.nzSrc;\n                this.getElement().nativeElement.srcset = this.nzSrcset;\n            });\n            fromEvent(this.backLoadImage, 'error')\n                .pipe(takeUntil(this.backLoadDestroy$), takeUntil(this.destroy$))\n                .subscribe(() => {\n                this.status = 'error';\n                if (this.nzFallback) {\n                    this.getElement().nativeElement.src = this.nzFallback;\n                    this.getElement().nativeElement.srcset = '';\n                }\n            });\n        }\n    }\n}\nNzImageDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.0.4\", ngImport: i0, type: NzImageDirective, deps: [{ token: DOCUMENT }, { token: i1.NzConfigService }, { token: i0.ElementRef }, { token: NzImageService }, { token: i0.ChangeDetectorRef }, { token: NzImageGroupComponent, optional: true }, { token: i3$1.Directionality, optional: true }], target: i0.ɵɵFactoryTarget.Directive });\nNzImageDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"15.0.4\", type: NzImageDirective, selector: \"img[nz-image]\", inputs: { nzSrc: \"nzSrc\", nzSrcset: \"nzSrcset\", nzDisablePreview: \"nzDisablePreview\", nzFallback: \"nzFallback\", nzPlaceholder: \"nzPlaceholder\" }, host: { listeners: { \"click\": \"onPreview()\" } }, exportAs: [\"nzImage\"], usesOnChanges: true, ngImport: i0 });\n__decorate([\n    InputBoolean(),\n    WithConfig()\n], NzImageDirective.prototype, \"nzDisablePreview\", void 0);\n__decorate([\n    WithConfig()\n], NzImageDirective.prototype, \"nzFallback\", void 0);\n__decorate([\n    WithConfig()\n], NzImageDirective.prototype, \"nzPlaceholder\", void 0);\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.0.4\", ngImport: i0, type: NzImageDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: 'img[nz-image]',\n                    exportAs: 'nzImage',\n                    host: {\n                        '(click)': 'onPreview()'\n                    }\n                }]\n        }], ctorParameters: function () { return [{ type: undefined, decorators: [{\n                    type: Inject,\n                    args: [DOCUMENT]\n                }] }, { type: i1.NzConfigService }, { type: i0.ElementRef }, { type: NzImageService }, { type: i0.ChangeDetectorRef }, { type: NzImageGroupComponent, decorators: [{\n                    type: Optional\n                }] }, { type: i3$1.Directionality, decorators: [{\n                    type: Optional\n                }] }]; }, propDecorators: { nzSrc: [{\n                type: Input\n            }], nzSrcset: [{\n                type: Input\n            }], nzDisablePreview: [{\n                type: Input\n            }], nzFallback: [{\n                type: Input\n            }], nzPlaceholder: [{\n                type: Input\n            }] } });\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nclass NzImageModule {\n}\nNzImageModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.0.4\", ngImport: i0, type: NzImageModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nNzImageModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"14.0.0\", version: \"15.0.4\", ngImport: i0, type: NzImageModule, declarations: [NzImageDirective, NzImagePreviewComponent, NzImageGroupComponent], imports: [BidiModule, OverlayModule, PortalModule, DragDropModule, CommonModule, NzIconModule, NzPipesModule], exports: [NzImageDirective, NzImagePreviewComponent, NzImageGroupComponent] });\nNzImageModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"15.0.4\", ngImport: i0, type: NzImageModule, providers: [NzImageService], imports: [BidiModule, OverlayModule, PortalModule, DragDropModule, CommonModule, NzIconModule, NzPipesModule] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.0.4\", ngImport: i0, type: NzImageModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [BidiModule, OverlayModule, PortalModule, DragDropModule, CommonModule, NzIconModule, NzPipesModule],\n                    exports: [NzImageDirective, NzImagePreviewComponent, NzImageGroupComponent],\n                    providers: [NzImageService],\n                    declarations: [NzImageDirective, NzImagePreviewComponent, NzImageGroupComponent]\n                }]\n        }] });\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { FADE_CLASS_NAME_MAP, IMAGE_PREVIEW_MASK_CLASS_NAME, NZ_CONFIG_MODULE_NAME$1 as NZ_CONFIG_MODULE_NAME, NzImageDirective, NzImageGroupComponent, NzImageModule, NzImagePreviewComponent, NzImagePreviewOptions, NzImagePreviewRef, NzImageService, getClientSize, getFitContentPosition, getOffset };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}